jQuery(document).ready(e=>{let t=parseFloat(e("#_regular_price").val()),a=e("#schedule_container"),i=e("#add-schedule");function d(){let t=a.children().length;e(".remove_sale").toggle(t>1)}d(),a.find(".start-date, .end-date").each(function(){let t=e(this),a=t.hasClass("start-date"),i=a?{dateFormat:"yy-mm-dd",minDate:t.val()}:{dateFormat:"yy-mm-dd",maxDate:t.val()};t.val()&&t.siblings(a?".end-date":".start-date").datepicker(i)}),a.on("focus change",".start-date, .end-date",function(){let t=e(this).hasClass("start-date"),a=t?e(this):e(this).siblings(".start-date"),i=t?e(this).siblings(".end-date"):e(this);a.datepicker({dateFormat:"yy-mm-dd",onSelect:function(e){i.datepicker("option","minDate",e)}}),i.datepicker({dateFormat:"yy-mm-dd",onSelect:function(e){a.datepicker("option","maxDate",e)}})}),i.on("click",()=>{let t=e(".schedule-pricing-fields").first().clone();t.find("input").val(""),t.find(".remove_sale").show(),a.append(t),d(),e(".start-date, .end-date").removeClass("hasDatepicker"),e(".start-date, .end-date").attr("id","")}),a.on("click",".remove_sale",t=>{t.preventDefault(),a.children().length>1&&(e(t.currentTarget).closest(".schedule-pricing-fields").remove(),d())}),a.on("keyup change",".schedule-sale-price",function(){let a=parseFloat(e(this).val());e(this)[0].setCustomValidity(""),a>=t?e(document.body).triggerHandler("wc_add_error_tip",[e(this),"i18n_sale_less_than_regular_error",]):e(document.body).triggerHandler("wc_remove_error_tip",[e(this),"i18n_sale_less_than_regular_error"])}),a.on("focusout",".schedule-sale-price",function(){let a=parseFloat(e(this).val());a&&(a>=t?e(this).val(""):e(this).val(parseFloat(a).toFixed(2)))})});